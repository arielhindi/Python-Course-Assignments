
# IMS Stargazing Recommender (day04)

## What this code does
This project helps you decide if a given date is good for stargazing in Israel. It:
- Downloads weather data from the Israeli Meteorological Service (IMS) public website (HTML scraping, not the official API)
- Analyzes cloudiness, precipitation, moon phase, and meteor shower activity for your chosen date and location
- Computes a "visibility score" (0â€“100), confidence in the forecast, and gives a recommendation (or suggests a better date if the chosen one is bad)
- Provides a simple GUI for user input and results display

## How it works
1. **Data Download**: `ims_downloader.py` fetches the IMS forecast web page for your chosen date/location and saves it in `day04/data/`. It then tries to extract cloudiness and precipitation using simple text parsing.
2. **Analysis**: `business_logic.py` combines the weather data, moon phase (astronomical calculation), and meteor shower calendar to compute a stargazing score and confidence. If the score is low, it searches for a better date in the next two weeks.
3. **User Interface**: `ui/gui.py` is a Tkinter GUI. Enter a date and location, click Analyze, and see the score, confidence, and a reliability note (since the data is scraped, not from the official API).

## How to run
1. (Recommended) Create and activate a virtual environment:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   ```
2. Install dependencies:
   ```bash
   pip install -r day04/requirements.txt
   ```
3. Run the GUI from the project root:
   ```bash
   python -m day04.ui.gui
   ```

## Notes and limitations
- The code uses HTML scraping, not the official IMS API, so forecast reliability is limited and may break if the IMS website changes.
- The GUI always displays a reliability message to the user.
- Moon phase and meteor shower calculations are approximate.
- If you get an IMS API token in the future, the code can be upgraded to use the official API for more reliable data.

## How this code was created
This code was generated by GPT-5 mini in response to a series of user prompts. The user described the requirements, and the AI wrote, refactored, and improved the code step by step. Below are the main prompts used:

---

1. "write a program that will download data from the israeli meteorlogical service website - https://ims.gov.il/en. i want the program to allow a user to enter a date they want to go stargazing. use the data supplied from the IMS to calculate how good of a date it is to go stargazing based on cloudiness, full moon, how many shooting stars there are supposed to be, etc. if the date chosen is very bad, recommend a date with good visibilty. always tell the user the amount of confidence there is with the weather prediction. in the day04 folder create one file that will save the downloaded data from the IMS. in another file put the buisness logic. in another folder add the user interface - use gui and make the background stargazing themed. tell me if you need additional information to create the program."

2. "this is the link for the API - https://ims.gov.il/he/ObservationDataAPI"

3. "can you use actual forecast data without the token?"

4. "use the html scraping, just make sure to say how reliable the forecast is when a user searches for a date"

5. "add to the readme file an explanation of the code - what it does, how it works and how to run it. include my prompts to explain how the code was created"

---

If you want to adapt or extend this code, see the comments in each file and the README for next steps.
